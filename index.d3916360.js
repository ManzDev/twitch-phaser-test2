import{P as o}from"./vendor.9cabb899.js";const f=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}};f();const c=800,a=600,h=(n,s)=>{const t=o.Math.Between(0,c),i=o.Math.Between(0,a),e=s.add.image(t,i,"crate").setInteractive();n%2&&e.setTint(65280).setData("badCrate",!0)};class d extends o.Scene{constructor(){super("GameScene");this.score=0,this.lives=6}preload(){this.load.image("bg","assets/sprites/sky4.png"),this.load.image("crate","assets/sprites/crate.png")}create(){this.registry.set("score",this.score),this.registry.set("lives",this.lives);const s=c/2,t=a/2;this.add.image(s,t,"bg").setDisplaySize(c,a);for(let i=0;i<64;i++)h(i,this);this.input.on("gameobjectup",this.onCrateClick,this)}onCrateClick(s,t){this.lives!==0&&(t.setInteractive(!1).setVisible(!1),t.getData("badCrate")?(this.lives--,this.registry.set("lives",this.lives)):(this.score++,this.registry.set("score",this.score)))}}class u extends o.Scene{constructor(){super({key:"UIScene",active:!0})}create(){const s=this.scene.get("GameScene").score,t=this.scene.get("GameScene").lives;this.scoreText=this.add.text(10,10,`Score: ${s}`,{font:"56px EnterCommand",fill:"#ffffff",stroke:"red",strokeThickness:5}),this.livesText=this.add.text(10,48,`Lives: ${t}`,{font:"56px EnterCommand",fill:"#ffffff",stroke:"red",strokeThickness:5}),this.registry.events.on("changedata",this.onChangeRegistry,this)}onChangeRegistry(s,t,i){t==="score"?this.scoreText.setText("Score: "+i):t==="lives"&&this.livesText.setText("Lives: "+i)}}const g={type:o.AUTO,width:c,height:a,backgroundColor:"#000",scene:[d,u]};new o.Game(g);
